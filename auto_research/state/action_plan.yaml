bottleneck_analysis:
  bottleneck_score: 7.0
  dimension_scores:
    innovation: 7.5
    paper_presentation: 7.0
    technical_quality: 7.5
    writing_quality: 7.5
  primary_bottleneck: Paper Presentation
  reviewer_breakthrough_direction: 'Since Paper Presentation is the bottleneck (7.0
    < 7.5), focus on visual improvements:

    - Increase all figure fonts to 8pt minimum

    - Simplify Figure 1 to reduce visual clutter

    - Standardize table formatting

    - Make Table 3 more visually prominent

    '
created_at: '2026-01-28T11:00:00+08:00'
execution_order:
  phase_1_figure_fixes:
    description: Fix figure font sizes and complexity
    priority: critical
    rationale: 'Paper Presentation is the bottleneck (7.0/10).

      Figure fonts are the most concrete, verifiable fix.

      '
    tasks:
    - M1
    - M2
    - M3
  phase_2_latex_fixes:
    description: Fix LaTeX formatting issues
    priority: high
    rationale: 'Table and text formatting improvements.

      Lower risk, complementary to figure fixes.

      '
    tasks:
    - M4
    - m-batch
figure_tasks:
- description: Fix hardcoded small fonts in figures
  functions_to_check:
  - fig2_sdpa_latency
  - fig5_repair_tradeoff
  id: M1
  output_files:
  - Latex/figures/fig2_sdpa_latency.pdf
  - Latex/figures/fig5_repair_tradeoff.pdf
  target_file: scripts/create_paper_figures.py
- description: Simplify Figure 1 visual complexity
  functions_to_check:
  - fig1_overview
  id: M2
  output_files:
  - Latex/figures/fig1_overview.pdf
  target_file: scripts/create_paper_figures.py
- description: Make Figure 3 THEORETICAL ANALYSIS more prominent
  functions_to_check:
  - fig3_palu_distribution
  id: M3
  output_files:
  - Latex/figures/fig3_palu_dist.pdf
  target_file: scripts/create_paper_figures.py
issues:
- actions:
  - agent: writer
    expected_output: All hardcoded fontsize values >= 10pt
    status: pending
    step: 1
    target_file: scripts/create_paper_figures.py
    task: 'Read scripts/create_paper_figures.py and search for ALL hardcoded fontsize

      values below 10pt. Focus on:

      1. fig2_sdpa_latency() function - check ax.annotate(), ax.text() calls

      2. fig5_repair_tradeoff() function - check scatter label fontsize

      3. Any fontsize=8 or fontsize=9 values that might render smaller in PDF


      Update any hardcoded small fonts to minimum 10pt (which renders as ~8pt in

      the final PDF due to figure scaling).

      '
  - agent: writer
    command: python scripts/create_paper_figures.py
    depends_on:
    - 1
    expected_output: Latex/figures/*.pdf files updated
    status: pending
    step: 2
    task: 'After updating the script, regenerate all figures:

      python scripts/create_paper_figures.py


      Note: This script should run without GPU (it uses hardcoded data).

      If it fails, check if matplotlib/numpy are available.

      '
  - agent: writer
    depends_on:
    - 2
    expected_output: Figures regenerated with larger fonts
    status: pending
    step: 3
    task: 'Verify the generated figures by checking file modification times:

      ls -la Latex/figures/


      If the figures are updated, recompile LaTeX to verify changes appear

      in the final PDF.

      '
  depends_on: []
  description: '**Reviewer Issue**: "Axis labels in Figure 2 and data labels in Figure
    5

    appear to be approximately 6-7pt, which is below the 8pt minimum

    recommended for print readability."


    **Location**: Figure 2 (SDPA latency), Figure 5 (repair tradeoff)


    **Note**: The script already has global rcParams set to 10pt+, but specific

    annotations or hardcoded fontsize values may override these defaults.

    '
  id: M1
  inner_loop_count: 0
  max_inner_loops: 2
  priority: high
  status: completed
  title: Figure Font Sizes Below 8pt Minimum
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: Simplified Figure 1 with fewer visual elements
    status: pending
    step: 1
    target_file: scripts/create_paper_figures.py
    target_function: fig1_overview
    task: "Review fig1_overview() in scripts/create_paper_figures.py:\n1. Count the\
      \ number of visual elements (boxes, arrows, text labels)\n2. Identify elements\
      \ that can be removed or simplified\n3. Consider:\n   - Reducing annotation\
      \ density\n   - Using larger, bolder fonts for key numbers (88%, 30%)\n   -\
      \ Removing secondary information (put in caption instead)\n\nMake targeted simplifications\
      \ while preserving the core message:\n\"Compression causes dimensional collapse\
      \ (88% slowdown),\nrepair recovers performance (30% speedup).\"\n"
  - agent: writer
    command: python scripts/create_paper_figures.py
    depends_on:
    - 1
    expected_output: fig1_overview.pdf updated
    status: pending
    step: 2
    task: Regenerate figures after modification
  depends_on: []
  description: '**Reviewer Issue**: "Figure 1 attempts to convey too much information.

    The panels contain many visual elements competing for attention."


    **Location**: Page 2, Figure 1


    **Note**: The fig1_overview() function was already redesigned (see comments

    in lines 64-72), but reviewer still finds it complex. Consider further

    simplification.

    '
  id: M2
  inner_loop_count: 0
  max_inner_loops: 2
  priority: high
  status: completed
  title: Figure 1 Visual Complexity
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: Figure 3 with more prominent THEORETICAL ANALYSIS label
    status: pending
    step: 1
    target_file: scripts/create_paper_figures.py
    target_function: fig3_palu_distribution
    task: "Modify fig3_palu_distribution() in scripts/create_paper_figures.py:\n1.\
      \ Make the \"THEORETICAL ANALYSIS\" banner larger and more prominent\n   - Consider\
      \ using a colored background that contrasts with histogram\n   - Use bold, larger\
      \ font (14pt+)\n2. Add a brief explanatory note directly on the figure:\n  \
      \ \"Based on Fisher information analysis of 512 attention heads\"\n3. Consider\
      \ separating the statistics summary from histogram if possible\n"
  - agent: writer
    command: python scripts/create_paper_figures.py
    depends_on:
    - 1
    expected_output: fig3_palu_dist.pdf updated
    status: pending
    step: 2
    task: Regenerate figures after modification
  depends_on: []
  description: '**Reviewer Issue**: "The banner showing ''Aligned: 3.1%, Misaligned
    96.9%''

    competes with the histogram. The distinction between theoretical and

    empirical could be clearer."


    **Location**: Page 3, Figure 3


    **Current State**: Figure has "THEORETICAL ANALYSIS" banner.

    The reviewer wants it more visually distinct.

    '
  id: M3
  inner_loop_count: 0
  max_inner_loops: 2
  priority: high
  status: completed
  title: Figure 3 THEORETICAL ANALYSIS Clarity
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: LaTeX comment added flagging author name for verification
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'In Latex/main.tex, find the author list and add a LaTeX comment

      to flag the name for verification:


      % TODO: Verify author name spelling - Reviewer flagged "Tian Lvy"

      % as potential typo (likely "Tian Lyu"?)


      Do NOT change the name without human confirmation.

      '
  depends_on: []
  description: '**Reviewer Issue**: "''Tian Lvy'' appears to be a typo (likely ''Tian
    Lyu''

    or similar based on common transliterations)."


    **Location**: Page 1, Author list


    **Action**: This requires human verification. Add a LaTeX comment

    flagging this for author review.

    '
  id: M4
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Author Name Typo Verification
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Table 1 std notation standardized
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'Fix m2: Table 1 std deviation formatting in Latex/main.tex


      Find Table 1 (SDPA Backend Latency Comparison) and standardize all

      std deviation values to 2 decimal places with leading zero:

      - Change "±.03" to "±0.03"

      - Change "±.20" to "±0.20"

      - Apply consistently across all cells

      '
  - agent: writer
    depends_on:
    - 1
    expected_output: Table 3 made more visually prominent
    status: pending
    step: 2
    target_file: Latex/main.tex
    task: "Fix m3: Table 3 visual prominence in Latex/main.tex\n\nFind Table 3 (Applicability\
      \ Framework) and make it more prominent:\n1. Make \"Yes\" entries bold: \\textbf{Yes\
      \ (+25-28\\%)}\n2. Make \"No\" entries bold: \\textbf{No (-0.8\\%)}\n3. Consider\
      \ using \\cellcolor for emphasis if not breaking format\n4. Update caption to\
      \ emphasize importance:\n   \"Key guidance for practitioners on when dimension\
      \ repair applies.\"\n"
  - agent: writer
    depends_on:
    - 2
    expected_output: Consistent decimal precision across tables
    status: pending
    step: 3
    target_file: Latex/main.tex
    task: 'Fix m5: Table decimal precision consistency in Latex/main.tex


      Review all tables and standardize:

      - Latency values: 2 decimal places (e.g., 2.06ms not 2.064ms)

      - Speedup percentages: 1 decimal place (e.g., 27.8% not 27.78%)

      - Memory overhead: 1 decimal place


      Focus on Tables 4, 5, 6 which have precision inconsistencies.

      '
  - agent: writer
    depends_on:
    - 3
    expected_output: Section 6.7 limitations in numbered list format
    status: pending
    step: 4
    target_file: Latex/main.tex
    task: "Fix m6: Section 6.7 Limitations visibility in Latex/main.tex\n\nFind Section\
      \ 6.7 (Scope and Limitations) and improve visibility:\n1. Convert prose to numbered\
      \ list format:\n   \\begin{enumerate}[leftmargin=*]\n   \\item \\textbf{Scope}:\
      \ ...\n   \\item \\textbf{Downstream Tasks}: ...\n   \\item \\textbf{Hardware}:\
      \ ...\n   \\end{enumerate}\n2. This makes limitations easier to scan and reference\n"
  depends_on:
  - M1
  description: 'Batch fix for minor issues:

    - m1: Figure 5 label clustering (FIGURE_CODE_REQUIRED sub-task)

    - m2: Table 1 std deviation formatting

    - m3: Table 3 visual prominence

    - m5: Table decimal precision consistency

    - m6: Section 6.7 limitations visibility

    '
  id: m-batch
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Fix All Minor Presentation Issues
  type: WRITING_ONLY
notes:
- Figure script already has rcParams set to 10pt+, need to find hardcoded overrides
- Figures need regeneration after script changes
- Author name fix requires human verification - only add TODO comment
- Focus on verifiable, concrete improvements rather than text rewrites
- Previous iteration already repositioned paper as measurement study
planner_summary: "## Iteration 110 Analysis\n\n### Current Status\n- Score: 7.35/10\
  \ (Weak Accept)\n- Bottleneck: Paper Presentation (7.0/10)\n- Stagnation: Score\
  \ stuck at 7.35 for ~100 iterations\n\n### Reviewer's Focus\nThe review is almost\
  \ entirely focused on **visual/presentation issues**:\n- Figure font sizes (M1)\n\
  - Figure 1 complexity (M2)\n- Figure 3 clarity (M3)\n- Author name typo (M4)\n-\
  \ Various minor formatting issues (m1-m6)\n\n### Previous Plan Analysis\nThe previous\
  \ action_plan.yaml (iteration 109) focused on repositioning the paper\nas a \"measurement\
  \ study\" to address the E2E validation gap. All issues were\nmarked as \"completed\"\
  . However, the score has not improved.\n\n### Strategy for This Iteration\nSince\
  \ the reviewer explicitly identifies Paper Presentation (7.0) as the bottleneck\n\
  and all Major Issues are visual/presentation related, this plan focuses on:\n\n\
  1. **FIGURE_CODE_REQUIRED tasks**: Modify scripts/create_paper_figures.py\n   -\
  \ The script already has some font fixes from previous iterations\n   - Need to\
  \ verify all figures meet 8pt minimum\n   - Simplify Figure 1 further\n   - Adjust\
  \ Figure 5 label positioning\n\n2. **WRITING_ONLY tasks**: Fix LaTeX formatting\n\
  \   - Table 1 std notation\n   - Table 3 prominence\n   - Author name verification\n\
  \n### Key Insight\nThe figure script (scripts/create_paper_figures.py) already has\
  \ font settings\nat 10-13pt (lines 42-57). However, the reviewer still sees 6-7pt\
  \ fonts in the\nPDF. This suggests either:\n1. The figures were not regenerated\
  \ after script updates\n2. Some specific annotations use hardcoded smaller fonts\n\
  3. The rcParams don't apply to all text elements\n\n### Expected Outcome\n- Paper\
  \ Presentation: 7.0 → 7.3 (figure improvements)\n- Technical Quality: 7.5 (unchanged)\n\
  - Target Score: 7.35 → 7.5\n"
review_iteration: 110
review_score: 7.35
sanity_check:
  all_writing_only: false
  figure_code_tasks: 3
  reason: 'This plan is NOT all WRITING_ONLY because:

    1. M1, M2, M3 are FIGURE_CODE_REQUIRED (modify Python script + regenerate)

    2. M4, m-batch are WRITING_ONLY (LaTeX text changes)


    The reviewer''s bottleneck is Paper Presentation (7.0), and all Major Issues

    are visual/figure-related. This justifies the focus on figure fixes.


    Note: The reviewer mentions E2E validation would help reach 8.0/10, but

    findings.yaml documents that:

    - RAP SVD: -0.8% (no benefit due to projection architecture)

    - PaLU: 100% aligned, cannot produce misaligned dimensions

    - Vanilla SVD: No off-the-shelf implementation exists


    Given the exhausted experiment options, presentation improvements are the

    viable path forward within this iteration.

    '
  verification: 'Checked: Previous plan (iteration 109) focused on repositioning as

    "measurement study" - this was a strategic pivot. Current plan focuses

    on the concrete visual issues the reviewer identifies.

    '
  writing_only_tasks: 2
success_criteria:
  expected_score_improvement:
    confidence: medium
    current: 7.35
    stretch: 7.5
    target: 7.45
  must_complete:
  - 'M1: Figure fonts verified to be 8pt+ in final PDF'
  - 'M2: Figure 1 simplified'
  - 'M3: Figure 3 THEORETICAL label more prominent'
  - 'M4: Author name flagged for verification'
  - 'm-batch: Table formatting standardized'
  score_rationale: "**Paper Presentation (7.0 → 7.3)**: +0.3\n  - Figure font fixes\
    \ address direct reviewer concern\n  - Figure 1 simplification reduces visual\
    \ clutter\n  - Table formatting shows attention to detail\n\n**Technical Quality\
    \ (7.5)**: Unchanged\n  - No new experiments (options exhausted)\n  - Kernel-level\
    \ data remains solid\n\n**Innovation (7.5)**: Unchanged\n**Writing (7.5)**: Unchanged\n\
    \nWeighted: 0.4*7.5 + 0.3*7.3 + 0.2*7.5 + 0.1*7.5 = 7.44\n\nConservative target:\
    \ 7.45 (if figure fixes are verified effective)\n"
writing_tasks:
- changes_required:
  - change: Add TODO comment for name verification
    section: Author list
  description: Flag author name for verification
  id: M4
  target_files:
  - Latex/main.tex
- changes_required:
  - change: Standardize std notation to ±0.XX
    section: Table 1
  - change: Bold Yes/No entries for prominence
    section: Table 3
  - change: Consistent decimal precision
    section: Tables 4-6
  - change: Convert to numbered list
    section: Section 6.7
  description: Fix minor LaTeX formatting issues
  id: m-batch
  target_files:
  - Latex/main.tex
