bottleneck_analysis:
  bottleneck_score: 7.0
  breakthrough_direction: 'Previous 100+ iterations exhausted WRITING_ONLY fixes.

    The reviewer''s detailed visual observations reveal that figure code fixes

    were NOT aggressive enough. Need to:

    1. INCREASE font sizes SIGNIFICANTLY (not just to 8pt, but to 10-11pt)

    2. SIMPLIFY Figure 1 more aggressively

    3. ADJUST Figure 5/6 label positions with adjustText library

    4. REDUCE Figure 5/6 widths to improve information density

    '
  dimension_scores:
    innovation: 7.5
    paper_presentation: 7.0
    technical_quality: 7.5
    writing_quality: 7.5
  primary_bottleneck: Paper Presentation
  reviewer_explicit_guidance: 'The reviewer''s "Visual Observations" section (lines
    250-430) provides EXTREMELY

    detailed, page-by-page feedback on figure quality issues that are still present.


    Key observations from reviewer:

    1. "坐标轴标签约为 7pt（打印边界）" - Figure 2 axis labels ~7pt, needs 8pt+

    2. "数据点标签（d=107等）约 6-7pt" - Figure 6 labels too small

    3. "视觉元素过多" - Figure 1 still too complex

    4. "信息密度低" - Figures 5/6 have low information density


    These are FIGURE_CODE_REQUIRED issues, not WRITING_ONLY!

    '
created_at: '2026-01-28T12:00:00+08:00'
execution_order:
  phase_1_figure_code:
    description: Fix figure code issues - highest impact on Presentation score
    priority: critical
    rationale: 'Previous iterations did WRITING_ONLY fixes with no improvement.

      The reviewer''s detailed visual observations show figure issues PERSIST.

      Must fix the Python code to generate better figures.

      '
    tasks:
    - M1
    - M2
    - m1
  phase_2_writing:
    description: Fix writing/caption issues
    priority: high
    tasks:
    - M3
    - M4
    - m2
    - m3
    - m4
  phase_3_polish:
    description: Minor polish
    priority: medium
    tasks:
    - m5
    - m6
    - m7
figure_code_tasks:
- command: python scripts/create_paper_figures.py
  description: Increase all figure fonts to 11-12pt
  functions:
  - fig2_sdpa_latency
  - fig5_repair_tradeoff
  - fig6_e2e_performance
  - rcParams
  id: M1
  target_files:
  - scripts/create_paper_figures.py
- command: python scripts/create_paper_figures.py
  description: Dramatically simplify Figure 1
  functions:
  - fig1_overview
  id: M2
  target_files:
  - scripts/create_paper_figures.py
- command: python scripts/create_paper_figures.py
  description: Fix Figure 5 label overlap with aggressive offsets
  functions:
  - fig5_repair_tradeoff
  id: m1
  target_files:
  - scripts/create_paper_figures.py
issues:
- actions:
  - agent: writer
    expected_output: All font sizes increased to 11-12pt
    status: pending
    step: 1
    target_file: scripts/create_paper_figures.py
    task: 'Modify scripts/create_paper_figures.py to increase ALL font sizes:


      In fig2_sdpa_latency():

      - Line ~210: Change annotate fontsize from 9 to 11

      - Line ~226: Change legend fontsize from 11 to 12


      In fig5_repair_tradeoff():

      - Line ~478-496: Change ALL annotate fontsize from 9-10 to 11-12

      - Line ~510: Change ROI label fontsize from 9 to 10

      - Line ~527-530: Change summary box fontsize from 9 to 10

      - Line ~533: Change legend fontsize from 9 to 11


      In fig6_e2e_performance():

      - Line ~567: Change bar label fontsize from 9 to 11

      - Line ~570-588: Change delta/speedup fontsize from 10-11 to 12

      - Line ~592: Change bottom note fontsize from 9 to 10


      Globally in rcParams:

      - legend.fontsize: 10 -> 12

      - xtick.labelsize: 10 -> 11

      - ytick.labelsize: 10 -> 11

      '
  - agent: writer
    command: python scripts/create_paper_figures.py && ls -la Latex/figures/*.pdf
    depends_on:
    - 1
    expected_output: Figures regenerated with larger fonts
    status: pending
    step: 2
    task: 'Run the figure generation script to regenerate all figures:

      python scripts/create_paper_figures.py


      Then verify the figures were generated:

      ls -la Latex/figures/*.pdf

      '
  - agent: writer
    command: cd Latex && pdflatex main.tex && pdflatex main.tex
    depends_on:
    - 2
    expected_output: LaTeX compiles successfully
    status: pending
    step: 3
    task: 'Recompile LaTeX to verify figures display correctly:

      cd Latex && pdflatex main.tex && pdflatex main.tex

      '
  depends_on: []
  description: 'Reviewer observed:

    - Figure 2 axis labels: ~7pt (line 289, 419)

    - Figure 5/6 data labels: ~6-7pt (line 327-329)

    - All below 8pt minimum for print readability


    Previous fix attempt: Set rcParams to 10-11pt base

    Why it failed: Individual elements (annotations, labels) still used 9pt


    NEW APPROACH: Set ALL text elements to 11-12pt explicitly

    '
  id: M1
  inner_loop_count: 0
  max_inner_loops: 2
  priority: high
  status: completed
  title: Figure 2/5/6 fonts below 8pt minimum
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: Figure 1 dramatically simplified
    status: pending
    step: 1
    target_file: scripts/create_paper_figures.py
    target_function: fig1_overview
    task: 'Rewrite fig1_overview() in scripts/create_paper_figures.py:


      CRITICAL: Make it MUCH simpler. Target design:


      Panel (a) - Problem:

      - Box 1: "d=128" (blue, large)

      - Arrow: "compress"

      - Box 2: "d=107" (red, large)

      - Result: "+88% latency" in HUGE font (20pt+)

      - REMOVE: all the alignment violation explanation text


      Panel (b) - Solution:

      - Box 1: "d=107" (red)

      - Arrow: "repair"

      - Box 2: "d=112" (green)

      - Result: "+30% speedup, 4.7% overhead" in LARGE font

      - REMOVE: bit-exact preservation text (put in caption)


      All fonts: MINIMUM 12pt, key numbers 18-24pt

      '
  - agent: writer
    command: python scripts/create_paper_figures.py && cd Latex && pdflatex main.tex
    depends_on:
    - 1
    expected_output: Simplified Figure 1 generated
    status: pending
    step: 2
    task: 'After modifying fig1_overview(), regenerate figures and recompile:

      python scripts/create_paper_figures.py && cd Latex && pdflatex main.tex

      '
  depends_on: []
  description: 'Reviewer observed (line 270-276):

    - "视觉繁忙，有许多竞争元素（流程箭头、百分比、条形图、标签）"

    - "部分标注文本约为 6pt（较小）"


    Previous fix: "Simplified" by removing bottom trade-off box

    Why it failed: Still has flow diagram + boxes + percentages + annotations


    NEW APPROACH: Focus on ONLY the key message

    - Panel (a): Original -> Compressed -> "+88%" impact (3 elements only)

    - Panel (b): Misaligned -> Repair -> "+30%" result (3 elements only)

    - Remove technical details (107 % 8 != 0, etc.) - put in caption instead

    '
  id: M2
  inner_loop_count: 0
  max_inner_loops: 2
  priority: high
  status: completed
  title: Figure 1 visual complexity
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: Caption clarified
    status: pending
    step: 1
    target_file: Latex/main.tex
    target_section: Figure caption for fig6_e2e
    task: 'In Latex/main.tex, modify Figure 5 (fig6_e2e) caption:


      Current text (line ~377-378):

      "PaLU achieves 11.5× decode speedup via KV cache compression, with minimal

      prefill overhead (−2%). Since production PaLU enforces 32-multiple alignment,

      no dimension repair is needed."


      NEW caption - make it CRYSTAL CLEAR:

      "End-to-end performance: Baseline vs.\ PaLU on Llama-3-8B.

      \textbf{Note: This speedup is from KV cache compression, not dimension repair.}

      PaLU''s 11.5$\times$ decode speedup comes from reduced memory bandwidth

      (compressed KV cache), demonstrating the value of compression.

      Production PaLU enforces 32-multiple alignment, so dimension repair is

      not needed. This figure provides context for compression benefits;

      dimension repair applies when alignment constraints are relaxed (see Table~\ref{tab:applicability})."

      '
  depends_on: []
  description: 'Reviewer observed (line 310-312, 425):

    - "11.5x 加速与 dimension repair 无关，来自 KV cache 压缩"

    - "读者可能误以为 11.5x 来自 dimension repair"


    The current Figure 5 (fig6_e2e.pdf) shows Baseline vs PaLU performance.

    The 11.5x decode speedup is from KV cache compression, NOT dimension repair.


    Need to clarify this in the caption AND possibly move to Background.

    '
  id: M3
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Figure 5 caption misleading - 11.5x unrelated to repair
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Author name verification flag maintained
    note: REQUIRES HUMAN VERIFICATION - orchestrator should alert user
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'The TODO comment at line 46-47 already flags this issue.


      Since this requires human verification (we cannot determine the correct

      spelling programmatically), add a more prominent warning:


      Change the TODO to a \marginpar warning or add to abstract as:

      "[AUTHOR NAME VERIFICATION REQUIRED: Please confirm ''Tian Lvy'' spelling]"


      For now, keep the existing TODO comment but ensure it''s visible.

      The orchestrator should flag this for human review.

      '
  depends_on: []
  description: 'Reviewer observed (line 147-149, 255, 260-262):

    - "第二作者''Tian Lvy''可能是''Tian Lyu''或''Tian Lv''的拼写错误"

    - Code already has TODO comment flagging this


    This is a critical issue - author names MUST be correct.

    '
  id: M4
  inner_loop_count: 0
  max_inner_loops: 1
  priority: high
  status: completed
  title: Author name potential typo - Tian Lvy
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Labels spread out with no overlap
    status: pending
    step: 1
    target_file: scripts/create_paper_figures.py
    target_function: fig5_repair_tradeoff
    task: "In fig5_repair_tradeoff(), increase label offsets MORE aggressively:\n\n\
      Current offsets (lines 463-469):\nlabel_configs = {\n    107: {'offset': (-70,\
      \ 45), ...},\n    114: {'offset': (55, 10), ...},\n    ...\n}\n\nNEW offsets\
      \ - MUCH more spread out:\nlabel_configs = {\n    107: {'offset': (-100, 60),\
      \ 'ha': 'center'},   # top-left, higher\n    114: {'offset': (80, 25), 'ha':\
      \ 'left'},       # right, higher\n    117: {'offset': (-100, -40), 'ha': 'right'},\
      \   # bottom-left\n    120: {'offset': (60, 25), 'ha': 'left'},       # right\n\
      \    121: {'offset': (80, 55), 'ha': 'left'},       # top-right\n    125: {'offset':\
      \ (-50, -70), 'ha': 'center'},   # bottom\n}\n\nAlso increase arrow line width\
      \ for visibility.\n"
  depends_on:
  - M1
  description: 'Reviewer observed (line 159-161, 327):

    - "散点图标签（d=107, d=114等）聚集在上方区域，可能重叠"


    The adjustText library is imported but labels still cluster.

    Need MORE AGGRESSIVE offsets and potentially leader lines.

    '
  id: m1
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Figure 5/6 label clustering
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: Std notation standardized
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'In Latex/main.tex Table 1 (lines 227-239):

      Change all std notation to 2 decimal places:

      - ±.03 -> ±0.03

      - ±.02 -> ±0.02

      - ±.04 -> ±0.04

      - ±.05 -> ±0.05

      - ±.06 -> ±0.06

      - ±.2 -> ±0.20


      Use consistent format: X.XX±0.XX

      '
  depends_on: []
  description: 'Reviewer observed (line 164-165, 383):

    - "标准差表示法不一致（±.03 vs ±.20）"


    Need to standardize to 2 decimal places: ±0.03, ±0.20

    '
  id: m2
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Table 1 std notation inconsistent
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Table 3 more visually prominent
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'In Latex/main.tex Table 3 (lines 346-365):


      The table already has colored cells. To make it MORE prominent:

      1. Increase the green/red cell colors: green!55 -> green!65, red!50 -> red!60

      2. Make YES/NO text larger: \textbf{\Large YES} -> \textbf{\LARGE YES}

      3. Add a box around the table with \fbox or frame environment


      Also add text before the table:

      "\noindent\rule{\columnwidth}{0.5pt}\\

      \textbf{[KEY PRACTITIONER GUIDANCE]}\\

      \noindent\rule{\columnwidth}{0.5pt}"

      '
  depends_on: []
  description: 'Reviewer observed (line 169-173, 385):

    - "关键适用性框架表格与其作为贡献的重要性相比缺乏视觉突出性"


    Table 3 is a KEY contribution but doesn''t stand out visually.

    '
  id: m3
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Table 3 visual prominence
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Figure widths reduced for better density
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'In Latex/main.tex, reduce Figure 5 (fig6_e2e) width:


      Line ~376: Change

      \includegraphics[width=\columnwidth]{figures/fig6_e2e.pdf}

      to

      \includegraphics[width=0.85\columnwidth]{figures/fig6_e2e.pdf}


      Also for Figure 5 (fig5_repair_tradeoff) at line ~416:

      Change width=\columnwidth to width=0.9\columnwidth


      This increases information density as reviewer suggested.

      '
  depends_on: []
  description: 'Reviewer observed (line 175-179, 377, 406-409):

    - "Figure 5 只有 4 根柱子占用整栏"

    - "Figure 6 只有 6 个数据点占用整栏"

    - Suggested: "缩小到 0.7-0.8 栏宽"

    '
  id: m4
  inner_loop_count: 0
  max_inner_loops: 1
  priority: medium
  status: completed
  title: Figure 5/6 information density low
  type: FIGURE_CODE_REQUIRED
- actions:
  - agent: writer
    expected_output: Decimal precision standardized
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'In all tables in Latex/main.tex:

      - Latency: 2 decimal places (e.g., 1.49ms, 2.06ms)

      - Percentage: 1 decimal place (e.g., 27.8%, 4.7%)


      Tables to check: 1, 4, 5, 6

      '
  depends_on: []
  description: 'Reviewer observed (line 181-185):

    - "延迟值使用不同精度"

    - Suggested: "标准化延迟为 2 位小数（1.49ms），加速为 1 位小数（27.8%）"

    '
  id: m5
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Table decimal precision inconsistent
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: Limitations section more prominent
    status: pending
    step: 1
    target_file: Latex/main.tex
    task: 'In Latex/main.tex Section 6.7 (lines 483-492):


      The section already uses enumerate (numbered list).

      To make it more prominent, add bold headers:


      \item \textbf{Scope}: The 96.9\% ...

      \item \textbf{Downstream Tasks}: Zero-padding ...

      \item \textbf{Hardware Generalization}: All experiments ...


      Also consider adding a horizontal rule before/after:

      \noindent\rule{\columnwidth}{0.4pt}

      '
  depends_on: []
  description: 'Reviewer observed (line 186-192):

    - "Scope 和 Limitations 很重要但不够突出"

    - Suggested: "使用编号列表或小表格格式"


    The section already uses enumerate. May need bolder formatting.

    '
  id: m6
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: Section 6.7 Limitations visibility
  type: WRITING_ONLY
- actions:
  - agent: writer
    expected_output: H100 prediction softened
    status: pending
    step: 1
    target_file: Latex/main.tex
    target_section: Section 8 Conclusion
    task: 'In Latex/main.tex Section 8 (lines 565-569):


      Current text:

      "While our experiments focus on A100, we expect similar dimensional

      collapse on H100/H200."


      Change to:

      "Our experiments focus on A100; H100/H200 behavior requires validation.

      While H100''s 4th-generation Tensor Cores use similar tile sizes..."


      This removes the unsubstantiated "we expect" claim.

      '
  depends_on: []
  description: 'Reviewer observed (line 193-198, 350-351):

    - "''we expect similar dimensional collapse on H100/H200''但没有任何 H100 数据支持"

    - Suggested: "删除此声明，或修改为''H100 validation is future work''"


    Current text at line 565-568 already says "H100 validation is future work"

    but also makes predictions. Need to soften the predictions.

    '
  id: m7
  inner_loop_count: 0
  max_inner_loops: 1
  priority: low
  status: completed
  title: H100 prediction statement unsupported
  type: WRITING_ONLY
notes:
- 'CRITICAL: Previous figure fixes were too conservative - need aggressive changes'
- The reviewer's visual observations (30+ specific issues) are actionable
- 'Figure fonts: must be 11pt+ to guarantee 8pt+ at any zoom level'
- 'Figure 1: remove ALL explanatory text, focus on key numbers only'
- M4 (author name) requires human verification - flag for orchestrator
- Path to 8.0 still requires positive E2E validation (not addressed here)
planner_summary: '## Iteration 112 - Figure Quality Breakthrough


  ### Critical Insight

  The reviewer provided EXTREMELY detailed visual feedback (30+ specific observations).

  Previous iterations added "REVIEWER FIX M1/M2/M3" comments to the code but the

  changes were NOT aggressive enough.


  ### Root Cause of Stagnation

  1. Figure fonts: Set to 9-10pt when reviewer wants 8pt MINIMUM (implying 10pt+ safe)

  2. Figure 1: "Simplified" but still has competing elements (flow + bars + percentages)

  3. Figure 5/6: Label overlap not fully fixed despite adjustText


  ### This Iteration''s Strategy

  Focus on FIGURE_CODE_REQUIRED tasks with AGGRESSIVE changes:

  1. Increase ALL figure fonts to 11-12pt (not borderline 8-9pt)

  2. Simplify Figure 1 to JUST show the key numbers (88%, 30%)

  3. Fix Figure 5/6 labels with more aggressive offset values

  4. Reduce Figure 5/6 widths to 0.7-0.8 columnwidth


  ### Why This Can Work

  - Presentation bottleneck (7.0) can improve with proper figure fixes

  - Reviewer explicitly said fonts are "at the boundary" (7pt) - fixing to 11pt is
  clear improvement

  - Previous "fixes" were conservative; need aggressive changes

  '
review_iteration: 112
review_score: 7.35
sanity_check:
  all_writing_only: false
  figure_code_tasks: 3
  reason: 'This plan has 3 FIGURE_CODE_REQUIRED tasks, which is correct given:

    1. Reviewer explicitly identified font sizes as "7pt" (below 8pt minimum)

    2. Reviewer explicitly said Figure 1 has "too many competing elements"

    3. Reviewer explicitly said Figure 5/6 labels "may overlap"


    Previous iterations had FIGURE_CODE comments in the code but changes

    were TOO CONSERVATIVE. This plan prescribes AGGRESSIVE changes:

    - Fonts: 9pt -> 11-12pt (not borderline)

    - Figure 1: Dramatic simplification (not minor tweaks)

    - Labels: Much larger offsets (not small adjustments)

    '
  writing_only_tasks: 8
stagnation_analysis:
  consecutive_no_improvement: 100+
  previous_approaches:
  - Figure font sizes set to rcParams (iteration ~50)
  - Figure 1 redesign (iteration ~60)
  - Figure 3 THEORETICAL banner (iteration ~70)
  - Writing-only fixes (iterations 80-111)
  why_no_progress: 'The figure code has "reviewer fix" comments but the fixes were
    INSUFFICIENT:

    - rcParams set to 11pt base, but individual elements still 9pt

    - Figure 1 "simplified" but still has many competing elements

    - adjustText library not being used effectively for label overlap


    The reviewer''s detailed visual analysis shows these issues PERSIST.

    '
success_criteria:
  expected_score_improvement:
    confidence: medium
    current: 7.35
    stretch: 7.65
    target: 7.5
  must_complete:
  - 'M1: Figure fonts -> 11-12pt (regenerate figures)'
  - 'M2: Figure 1 simplification (regenerate figures)'
  - 'M3: Figure 5 caption clarification'
  score_rationale: '**Paper Presentation (7.0 -> 7.3)**:

    - Font sizes to 11pt clearly meets 8pt minimum requirement

    - Figure 1 simplification reduces "competing elements"

    - Label overlap fix improves readability

    Expected: +0.3 on Presentation


    **Technical Quality (7.5)**: Unchanged (no new experiments)

    **Innovation (7.5)**: Unchanged

    **Writing (7.5)**: Unchanged


    Weighted: 0.4*7.5 + 0.3*7.3 + 0.2*7.5 + 0.1*7.5 = 7.44


    Target: 7.45-7.50

    '
writing_tasks:
- description: Clarify Figure 5 caption
  id: M3
  target_files:
  - Latex/main.tex
- description: Flag author name for verification
  id: M4
  target_files:
  - Latex/main.tex
- description: Standardize std notation
  id: m2
  target_files:
  - Latex/main.tex
- description: Make Table 3 more prominent
  id: m3
  target_files:
  - Latex/main.tex
- description: Reduce figure widths
  id: m4
  target_files:
  - Latex/main.tex
- description: Standardize decimal precision
  id: m5
  target_files:
  - Latex/main.tex
- description: Make Limitations more prominent
  id: m6
  target_files:
  - Latex/main.tex
- description: Soften H100 predictions
  id: m7
  target_files:
  - Latex/main.tex
